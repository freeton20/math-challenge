(function(t){function e(e){for(var i,o,a=e[0],u=e[1],c=e[2],h=0,d=[];h<a.length;h++)o=a[h],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(t[i]=u[i]);l&&l(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,a=1;a<n.length;a++){var u=n[a];0!==r[u]&&(i=!1)}i&&(s.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},r={app:0},s=[];function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var l=u;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1657:function(t,e,n){"use strict";n("d41b")},"2c98":function(t){t.exports=JSON.parse('{"ABI version":2,"header":["time","expire"],"functions":[{"name":"constructor","inputs":[],"outputs":[]},{"name":"setUser","inputs":[{"name":"timer","type":"uint128"}],"outputs":[]},{"name":"getUser","inputs":[{"name":"userAddress","type":"address"}],"outputs":[{"name":"value0","type":"uint128"}]},{"name":"getAll","inputs":[],"outputs":[{"name":"value0","type":"address[]"},{"name":"value1","type":"uint128[]"}]}],"data":[],"events":[]}')},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i,r=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("title-rules"),n("counter"),n("question"),n("timer"),n("div",{staticClass:"d-flex flex-row justify-content-center"},[n("run-btn"),t._v(" "),n("reset"),t._v(" "),n("save-result")],1),n("Leaderboard"),n("Modal")],1)},o=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",{staticClass:"text-center mt-3"},[t._v("Math challenge")]),t.showRules?n("div",{staticClass:"ml-4 mr-4"},[t._v(" Lorem ipsum, dolor sit amet consectetur adipisicing elit. Hic vero saepe ut ullam cum minima quis voluptates, accusantium quae. Ex distinctio dolorum nulla mollitia, modi quas earum qui corrupti fuga ipsa accusantium odit autem nesciunt! ")]):t._e()])},u=[],c={computed:{showRules:function(){return this.$store.getters.getShowRules}}},l=c,h=n("2877"),d=Object(h["a"])(l,a,u,!1,null,null,null),m=d.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-center mt-4"},[n("b-button",{attrs:{id:"runBtn",variant:"outline-success",disabled:t.isDisabled},on:{click:t.run}},[t._v(t._s(t.btnName))])],1)},f=[],b=n("2f62"),g={computed:Object(b["b"])({btnName:"getBtnName",isDisabled:"isDisabled"}),methods:{run:function(){this.$store.dispatch("run")}}},v=g,w=(n("e421"),Object(h["a"])(v,p,f,!1,null,"ee8fae08",null)),y=w.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.questionVisibility?n("div",[n("div",{staticClass:"text-center h1",style:"color:"+t.questionColor},[t._v(" "+t._s(t.question)+" "),n("answer")],1)]):t._e()},S=[],x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[t.showAnswer?n("span",[t._v(" = ")]):t._e(),t.showAnswer?n("input",{directives:[{name:"model",rawName:"v-model",value:t.answer,expression:"answer"}],staticClass:"h1",style:"color:"+t.answerColor,attrs:{type:"number",placeholder:"?"},domProps:{value:t.answer},on:{keyup:[t.checkAnswer,function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enterPressed.apply(null,arguments)}],input:function(e){e.target.composing||(t.answer=e.target.value)}}}):t._e()])},C=[],V=n("e077"),$=V["a"],T=(n("1657"),Object(h["a"])($,x,C,!1,null,"1e83c055",null)),B=T.exports,A={computed:{question:function(){return this.$store.getters.getQuestion},questionColor:function(){return this.$store.getters.getQuestionColor},questionVisibility:function(){return this.$store.getters.getQuestionVisibility}},components:{Answer:B}},R=A,k=Object(h["a"])(R,_,S,!1,null,null,null),O=k.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showCounter?n("div",{staticClass:"text-center h4"},[t._v(" Question: "+t._s(t.counter)+" of "+t._s(t.totalQuestions)+" ")]):t._e()},E=[],Q={computed:{counter(){return this.$store.getters.getCounter},showCounter(){return this.$store.getters.getShowCounter},totalQuestions(){return this.$store.getters.getTotalQuestions}}},N=Q,q=Object(h["a"])(N,j,E,!1,null,null,null),M=q.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visibilityState?n("div",{staticClass:"text-center mt-4 ml-4"},[n("b-button",{attrs:{variant:"outline-danger"},on:{click:t.reset}},[t._v("Reset")])],1):t._e()},P=[],U={computed:{visibilityState:function(){return this.$store.getters.isResetShowed}},methods:{reset:function(){this.$store.dispatch("reset")}}},D=U,L=Object(h["a"])(D,I,P,!1,null,null,null),J=L.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.timerVisibility?n("div",{staticClass:"text-center mt-3 mb-3"},[t._v(" Time: "+t._s(t.timer)+" ")]):t._e()},F=[],W=(n("b65f"),n("99af"),{computed:{timerVisibility:function(){return this.$store.getters.getTimerVisibility},timer:function(){var t=this.$store.getters.getTimer,e=t%60;e=e<10?"0"+e:e;var n=Math.trunc(t/60%60);return n=n<10?"0"+n:n,"".concat(n,":").concat(e)}}}),z=W,G=Object(h["a"])(z,H,F,!1,null,null,null),K=G.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-center mt-4 ml-4",on:{mouseover:t.showTooltip,click:t.hideTooltip}},[n("button",{directives:[{name:"show",rawName:"v-show",value:t.getSaveButtonVisibility,expression:"getSaveButtonVisibility"},{name:"b-tooltip",rawName:"v-b-tooltip.manual",modifiers:{manual:!0}}],staticClass:"btn btn-outline-secondary",attrs:{disabled:t.isDisabled,title:"Save result to blockchain",type:"button",id:"saveButton"},on:{click:t.runExtraton}},[t._v(" Save "),n("b-spinner",{directives:[{name:"show",rawName:"v-show",value:t.showSpinner,expression:"showSpinner"}],attrs:{small:""}})],1)])},Y=[],Z=n("1da1"),tt=(n("96cf"),{data:function(){return{showedTooltip:!1}},methods:{showTooltip:function(){this.showedTooltip||(this.$root.$emit("bv::show::tooltip"),this.showedTooltip=!0)},hideTooltip:function(){this.$root.$emit("bv::hide::tooltip"),this.$store.dispatch("changeSaveButtonDisableEnableState",!0)},runExtraton:function(){var t=this;return Object(Z["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0!=window.freeton){e.next=3;break}return t.$store.dispatch("setNoExtVisibility",!0),e.abrupt("return");case 3:return e.next=5,t.$store.dispatch("runExtraton",t.$store.getters.getTimer);case 5:return e.next=7,t.$store.dispatch("getUsers");case 7:case"end":return e.stop()}}),e)})))()}},computed:{showSpinner:function(){return this.$store.getters.getSpinner},getSaveButtonVisibility:function(){return this.$store.getters.getSaveButtonVisibility},isDisabled:function(){return this.$store.getters.isDisabledSaveButton}}}),et=tt,nt=Object(h["a"])(et,X,Y,!1,null,null,null),it=nt.exports,rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"h2 text-center mt-5"},[t._v("Leaderboard")]),n("b-table",{attrs:{striped:"",hover:"",items:t.items}})],1)},st=[],ot={mounted:function(){this.$store.dispatch("getUsers")},computed:{items:function(){return this.$store.getters.getUsers}}},at=ot,ut=Object(h["a"])(at,rt,st,!1,null,null,null),ct=ut.exports,lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-modal",{staticClass:"text-center",attrs:{"ok-only":"",id:"modal-center",centered:"",title:"Extraton is not available!"},model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[n("p",{staticClass:"text-center my-4"},[t._v(" Please, install "),n("a",{attrs:{href:"https://chrome.google.com/webstore/detail/extraton/hhimbkmlnofjdajamcojlcmgialocllm",target:"blank"}},[t._v("extraton extension")])])])},ht=[],dt={computed:{modalShow:function(){return this.$store.getters.getNoExtVisibility}}},mt=dt,pt=Object(h["a"])(mt,lt,ht,!1,null,null,null),ft=pt.exports,bt={name:"App",components:{TitleRules:m,RunBtn:y,Question:O,Counter:M,Reset:J,Timer:K,SaveResult:it,Leaderboard:ct,Modal:ft}},gt=bt,vt=Object(h["a"])(gt,s,o,!1,null,null,null),wt=vt.exports,yt={state:{showRules:!0},getters:{getShowRules:function(t){return t.showRules}},mutations:{updateShowRules:function(t,e){t.showRules=e}},actions:{changeShowRules:function(t,e){var n=t.commit;n("updateShowRules",e)}}},_t={state:{btnName:"Start",disabled:!1},getters:{getBtnName:function(t){return t.btnName},isDisabled:function(t){return t.disabled}},mutations:{updateBtnName:function(t,e){t.btnName=e},disableEnable:function(t,e){t.disabled=e}},actions:{changeBtnName:function(t){var e=t.commit,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Next";e("updateBtnName",n)},changeBtnState:function(t,e){var n=t.commit;n("disableEnable",e)}}},St={state:{question:"",questionColor:"black",questionVisibility:!0},getters:{getQuestion:function(t){return t.question},getQuestionColor:function(t){return t.questionColor},getQuestionVisibility:function(t){return t.questionVisibility}},mutations:{updateQuestion:function(t){var e=["+","-"],n=e[Math.floor(Math.random()*e.length)];t.question="".concat(Math.floor(100*Math.random())+1," ").concat(n," ").concat(Math.floor(100*Math.random())+1)},updateQuestionColor:function(t,e){t.questionColor=e},changeQuestionVisibility:function(t,e){t.questionVisibility=e}},actions:{changeQuestion:function(t){var e=t.commit;e("updateQuestion")},changeQuestionColor:function(t,e){var n=t.commit;n("updateQuestionColor",e)},changeQuestionVisibility:function(t,e){var n=t.commit;n("changeQuestionVisibility",e)}}},xt={state:{answer:null,showAnswer:!1,answerColor:"black"},getters:{getAnswer:function(t){return t.answer},getShowAnswer:function(t){return t.showAnswer},getAnswerColor:function(t){return t.answerColor}},mutations:{updateAnswer:function(t,e){t.answer=e},updateShowAnswer:function(t,e){t.showAnswer=e},updateAnswerColor:function(t,e){t.answerColor=e}},actions:{saveAnswer:function(t,e){var n=t.commit;n("updateAnswer",e)},changeShowAnswer:function(t,e){var n=t.commit;n("updateShowAnswer",e)},changeAnswerColor:function(t,e){var n=t.commit;n("updateAnswerColor",e)}}},Ct={state:{counter:0,showCounter:!1,totalQuestions:10},getters:{getCounter:function(t){return t.counter},getShowCounter:function(t){return t.showCounter},getTotalQuestions:function(t){return t.totalQuestions}},mutations:{updateShowCounter:function(t,e){t.showCounter=e},add:function(t){t.counter++},reset:function(t){t.counter=0}},actions:{changeShowCounter:function(t,e){var n=t.commit;n("updateShowCounter",e)},addToCounter:function(t){var e=t.commit;e("add")},resetCounter:function(t){var e=t.commit;e("reset")}}},Vt={state:{resetVisibilityState:!1},getters:{isResetShowed:function(t){return t.resetVisibilityState}},mutations:{showHideReset:function(t,e){t.resetVisibilityState=e}},actions:{changeResetBtnVisibility:function(t,e){var n=t.commit;n("showHideReset",e)}}},$t={state:{timer:0,timerVisibility:!1,timerId:null},getters:{getTimer:function(t){return t.timer},getTimerVisibility:function(t){return t.timerVisibility},getTimerId:function(t){return t.timerId}},mutations:{setNewTime:function(t,e){t.timer=e},setNewVisibility:function(t,e){t.timerVisibility=e},setTimerId:function(t,e){t.timerId=e},deleteTimer:function(t){t.timer=0,t.timerId=null}},actions:{changeTime:function(t,e){var n=t.commit;n("setNewTime",e)},runTimer:function(t){var e=t.commit,n=t.getters;if(null==n.getTimerId){e("setNewTime",0);var i=setInterval((function(t){var n=t.getTimer+1;e("setNewTime",n)}),1e3,n);e("setTimerId",i)}},stopTimer:function(t){var e=t.commit,n=t.getters;clearInterval(n.getTimerId),e("setTimerId",null)},clearTimer:function(t){var e=t.commit,n=t.getters;clearInterval(n.getTimerId),e("deleteTimer")},changeTimerVisibility:function(t,e){var n=t.commit;n("setNewVisibility",e)}}},Tt=(n("4e82"),n("d81d"),n("3835")),Bt=(n("d3b7"),n("3ca3"),n("ddb0"),n("5e5b")),At=n("866c"),Rt=n("af00"),kt=n("2c98");Object(At["b"])({binaryURL:"./tonclient.wasm"}),Bt["TonClient"].useBinaryLibrary(At["a"]),"undefined"==typeof i&&(i=new Bt["TonClient"]({network:{server_address:"net.ton.dev"}}));var Ot="0:9ea560b2fa804a67e71ae2f3fd7e98e04747a97bedf983c72103d4f100100cc0";function jt(t){return Et.apply(this,arguments)}function Et(){return Et=Object(Z["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.abi.encode_message_body({abi:Object(Bt["abiContract"])(kt),call_set:{function_name:"setUser",input:{timer:e}},signer:{type:"None"},is_internal:!0});case 2:return n=t.sent,t.abrupt("return",n.body);case 4:case"end":return t.stop()}}),t)}))),Et.apply(this,arguments)}function Qt(t){return Nt.apply(this,arguments)}function Nt(){return Nt=Object(Z["a"])(regeneratorRuntime.mark((function t(e){var n,i,r,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n=new Rt["a"].providers.ExtensionProvider(window.freeton),t.next=4,n.getSigner();case 4:return i=t.sent,r=i.getWallet(),t.next=8,jt(e);case 8:return s=t.sent,t.next=11,r.transfer(Ot,1e8,!0,s);case 11:return o=t.sent,t.next=14,o.wait();case 14:return t.abrupt("return",!0);case 17:return t.prev=17,t.t0=t["catch"](0),console.log("response is: "+JSON.stringify(t.t0,null,4)),t.abrupt("return",!1);case 21:case"end":return t.stop()}}),t,null,[[0,17]])}))),Nt.apply(this,arguments)}function qt(){return Mt.apply(this,arguments)}function Mt(){return Mt=Object(Z["a"])(regeneratorRuntime.mark((function t(){var e,n,r,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([i.net.query_collection({collection:"accounts",filter:{id:{eq:Ot}},result:"boc"}).then((function(t){var e=t.result;return e[0].boc})).catch((function(){throw Error("Failed to fetch account data")})),i.abi.encode_message({abi:Object(Bt["abiContract"])(kt),address:Ot,call_set:{function_name:"getAll",input:{}},signer:{type:"None"}}).then((function(t){var e=t.message;return e}))]);case 2:return e=t.sent,n=Object(Tt["a"])(e,2),r=n[0],s=n[1],t.next=8,i.tvm.run_tvm({message:s,account:r,abi:Object(Bt["abiContract"])(kt)});case 8:return o=t.sent,t.abrupt("return",o.decoded.output);case 10:case"end":return t.stop()}}),t)}))),Mt.apply(this,arguments)}var It={state:{spinner:!1,users:[],saveButtonVisibility:!1,disabled:!1},getters:{getSpinner:function(t){return t.spinner},getUsers:function(t){return t.users},getSaveButtonVisibility:function(t){return t.saveButtonVisibility},isDisabledSaveButton:function(t){return t.disabled}},mutations:{changeSpinnerVisibility:function(t,e){t.spinner=e},updateUsers:function(t,e){for(var n=[],i=0;i<e.value0.length;i++)n[i]={address:e.value0[i],time:e.value1[i]};n.sort((function(t,e){return t.time-e.time})),n=n.map((function(t){var e=t.time%60;e=e<10?"0"+e:e;var n=Math.trunc(t.time/60%60);return n=n<10?"0"+n:n,{address:t.address,time:"".concat(n,":").concat(e)}})),t.users=n},changeSaveButtonVisibility:function(t,e){t.saveButtonVisibility=e},disableEnableSaveButton:function(t,e){t.disabled=e}},actions:{runExtraton:function(t,e){return Object(Z["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=t.commit,i("changeSpinnerVisibility",!0),n.next=4,Qt(e);case 4:i("changeSpinnerVisibility",!1),i("disableEnableSaveButton",!1);case 6:case"end":return n.stop()}}),n)})))()},getUsers:function(t){return Object(Z["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.t0=n,e.next=4,qt();case 4:e.t1=e.sent,(0,e.t0)("updateUsers",e.t1);case 6:case"end":return e.stop()}}),e)})))()},setSaveButtonVisibility:function(t,e){var n=t.commit;n("changeSaveButtonVisibility",e)},changeSaveButtonDisableEnableState:function(t,e){var n=t.commit;n("disableEnableSaveButton",e)}}},Pt={state:{noExtVisibility:!1},getters:{getNoExtVisibility:function(t){return t.noExtVisibility}},mutations:{changeNoExtVisibility:function(t,e){t.noExtVisibility=e}},actions:{setNoExtVisibility:function(t,e){var n=t.commit;n("changeNoExtVisibility",e)}}};r["default"].use(b["a"]);var Ut=new b["a"].Store({actions:{run:function(){this.dispatch("addToCounter",!0),this.getters.getCounter>this.getters.getTotalQuestions?this.dispatch("stop"):(this.dispatch("changeQuestionVisibility",!0),this.dispatch("changeBtnName"),this.dispatch("changeBtnState",!0),this.dispatch("changeQuestion"),this.dispatch("changeShowRules",!1),this.dispatch("changeShowAnswer",!0),this.dispatch("saveAnswer",""),this.dispatch("changeAnswerColor","black"),this.dispatch("changeQuestionColor","black"),this.dispatch("changeShowCounter",!0),this.dispatch("changeResetBtnVisibility",!0),this.dispatch("changeTimerVisibility",!0),this.dispatch("runTimer"),this.dispatch("setSaveButtonVisibility",!1))},reset:function(){this.dispatch("resetCounter"),this.dispatch("changeBtnName","Start"),this.dispatch("changeBtnState",!1),this.dispatch("changeQuestionVisibility",!1),this.dispatch("changeShowCounter",!1),this.dispatch("clearTimer"),this.dispatch("changeResetBtnVisibility",!1),this.dispatch("setSaveButtonVisibility",!1)},stop:function(){this.dispatch("changeBtnName","Start"),this.dispatch("changeQuestionVisibility",!1),this.dispatch("resetCounter"),this.dispatch("stopTimer"),this.dispatch("changeShowCounter",!1),this.dispatch("setSaveButtonVisibility",!0),this.dispatch("changeResetBtnVisibility",!1)}},modules:{Title:yt,RunBtn:_t,Reset:Vt,Question:St,Answer:xt,Counter:Ct,Timer:$t,SaveResult:It,Modal:Pt}}),Dt=n("5f5b");n("f9e3"),n("2dd8");r["default"].use(Dt["a"]),r["default"].config.productionTip=!1,new r["default"]({store:Ut,render:function(t){return t(wt)}}).$mount("#app")},"5b74":function(t,e,n){},d41b:function(t,e,n){},e077:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__["a"]={computed:{answer:{set:function(t){this.$store.dispatch("saveAnswer",t)},get:function(){return this.$store.getters.getAnswer}},showAnswer:function(){return this.$store.getters.getShowAnswer},answerColor:function(){return this.$store.getters.getAnswerColor}},methods:{checkAnswer:function checkAnswer(){eval(this.$store.getters.getQuestion)==this.$store.getters.getAnswer?(this.$store.dispatch("changeAnswerColor","green"),this.$store.dispatch("changeQuestionColor","green"),this.$store.dispatch("changeBtnState",!1)):(this.$store.dispatch("changeAnswerColor","black"),this.$store.dispatch("changeQuestionColor","black"),this.$store.dispatch("changeBtnState",!0))},enterPressed:function enterPressed(){eval(this.$store.getters.getQuestion)!==eval(this.$store.getters.getAnswer)?(this.$store.dispatch("changeAnswerColor","red"),this.$store.dispatch("changeQuestionColor","red")):this.$store.dispatch("run")}}}},e421:function(t,e,n){"use strict";n("5b74")}});
//# sourceMappingURL=app.3d1b9fc4.js.map